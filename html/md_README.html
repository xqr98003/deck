<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Solution overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Solution overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>It's always a judgment call what to include when solving a coding puzzle. In real project work, the YAGNI (You Aren't Gonna Need It) principle is really important &ndash; you don't want to add bells and whistles unless they are motivated by the project requirements. But in this setting, I decided it would be helpful to add some mildly overy-fancy stuff as a way to demonstrate particular coding skills.</p>
<p>Here are some design decisions that might be worth mentioning:</p>
<ul>
<li>The representation of the deck is fairly well-optimized for memory compactness. Each card is represented as a simple 8-bit integer, and the shuffled deck is represented using a simple statically allocated array. Minimizing dynamic memory allocation can be important for predictable real-time performance.</li>
<li>The problem statement intentionally left vague what should happen when <code>deal_card()</code> is called on an empty deck. I decided to use a <code>std::optional</code> return value: the optional normally contains a card, but if the deck is empty, the optional is a null value. This approach is somewhat similar to returning both a card and a separate error flag, but using an optional is self-documenting, and the structure of the optional forces the user to do an explicit dereference operation on the optional before using the value of the card, which is a good nudge for them to specify what to do in case the value is missing. Another obvious approach would have been to raise an exception if the deck is empty, but using exceptions can create a big headache in large-scale high-availability systems where different components may have different conventions on how to use them, and you really don't want the application to crash for trivial reasons.</li>
<li>I decided to force the user to explicitly specify a seeded random number generator for the deck to use. Proper use of random number generators can of course have security implications (consider online poker). In a robotics simulation context, it can be important to control all sources of randomness in a coordinated way so you can try to deterministically replicate bugs on subsequent runs by using the same random seed.</li>
<li>I decided to make the <a class="el" href="classDeck.html">Deck</a> constructor shuffle the deck by default. That's because the desired behavior of the deck before shuffling is not specified, and it's generally good for a constructor to return its object in a well-defined, usable state (it eliminates a whole class of potential errors caused by trying to use improperly initialized objects).</li>
<li>I decided not to worry about implementing thread safety. It was not mentioned in the problem statement, and would add both complexity and execution time overhead.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Requirements</h1>
<p>The code should be fairly portable. It has been tested only in the following environment:</p>
<ul>
<li>OS: Ubuntu Linux 20.04</li>
<li>Compiler: g++ 9.3.0 (using the C++-17 standard)</li>
<li>Optional:<ul>
<li>Auto-generated documentation: Doxygen 1.8.17</li>
<li>Style checking: cpplint 1.5.4 under Python 3.8.5</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Installation</h1>
<p>Use the provided Makefile:</p>
<ul>
<li>Run <code>make</code> to build the <code>test_deck</code> binary.</li>
<li>Run <code>make doc</code> to rebuild the documentation. The only interesting output file is the <a class="el" href="classDeck.html">Deck</a> class in <code>html/classDeck.html</code>. I've now committed the Doxygen output to the repo for your convenience.</li>
<li>Run <code>make lint</code> to perform style checking.</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Usage</h1>
<p>Run <code>./test_deck</code>. Sample output is shown below. (If you run it for yourself, note that the suit characters may not render properly, depending on whether your terminal expects UTF8 console output.) </p><pre class="fragment">North:
  ♠ : A J
  ♥ : Q 10 3
  ♦ : Q J 8
  ♣ : A J 6 5 3
West:
  ♠ : K 8
  ♥ : A 5 4
  ♦ : K 9 5 4 3 2
  ♣ : 8 7
South:
  ♠ : 9 5 4 2
  ♥ : K 9 2
  ♦ : A
  ♣ : K Q 9 4 2
East:
  ♠ : Q 10 7 6 3
  ♥ : J 8 7 6
  ♦ : 10 7 6
  ♣ : 10
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
